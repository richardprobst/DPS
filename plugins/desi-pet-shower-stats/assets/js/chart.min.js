/**
 * Chart.js v4.4.0 - Local Fallback Stub
 *
 * Este √© um stub m√≠nimo que previne erros JavaScript quando o CDN n√£o est√° dispon√≠vel.
 * Para gr√°ficos funcionais, substitua este arquivo pelo Chart.js real.
 *
 * Download: https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js
 *
 * @package DPS_Stats_Addon
 * @since 1.4.0
 */
(function(global) {
    'use strict';

    // Verifica se Chart j√° foi carregado (via CDN)
    if (global.Chart) {
        return;
    }

    // Stub m√≠nimo para prevenir erros
    var Chart = function(ctx, config) {
        this.ctx = ctx;
        this.config = config;
        this.data = config.data || {};
        this.options = config.options || {};
        
        // Log de aviso apenas uma vez
        if (!Chart._warnedOnce) {
            console.warn('‚ö†Ô∏è Chart.js n√£o est√° dispon√≠vel. Os gr√°ficos n√£o ser√£o exibidos.');
            console.info('‚ÑπÔ∏è Verifique sua conex√£o com a internet ou instale o Chart.js localmente.');
            console.info('üì• Download: https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js');
            Chart._warnedOnce = true;
        }

        // Exibe mensagem no canvas
        if (ctx && ctx.getContext) {
            var context = ctx.getContext('2d');
            if (context) {
                context.font = '14px Arial';
                context.fillStyle = '#666';
                context.textAlign = 'center';
                context.fillText('Gr√°fico indispon√≠vel - Chart.js n√£o carregado', ctx.width / 2, ctx.height / 2);
            }
        }
    };

    Chart.prototype = {
        update: function() {},
        destroy: function() {},
        resize: function() {},
        clear: function() {},
        toBase64Image: function() { return ''; },
        generateLegend: function() { return ''; },
        getElementsAtEvent: function() { return []; },
        getDatasetAtEvent: function() { return []; }
    };

    Chart.register = function() {};
    Chart.unregister = function() {};
    Chart.defaults = { font: {}, color: '' };
    Chart.version = '4.4.0-stub';
    Chart._warnedOnce = false;

    // Exp√µe globalmente
    global.Chart = Chart;

    // Suporte a m√≥dulos AMD/CommonJS
    if (typeof module === 'object' && module.exports) {
        module.exports = Chart;
    } else if (typeof define === 'function' && define.amd) {
        define(function() { return Chart; });
    }

})(typeof window !== 'undefined' ? window : this);
